

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Line &mdash; pandapower 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../../about.html"/>
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="pandapower 1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Datastructure and Elements" href="../../elements.html"/>
        <link rel="next" title="Switch" href="../switch/switch.html"/>
        <link rel="prev" title="Bus" href="../bus/bus.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> pandapower
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About pandapower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../elements.html">Datastructure and Elements</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../empty_network/empty_network.html">Empty Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bus/bus.html">Bus</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Line</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-function">Create Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loadflow-model">Loadflow Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#result-parameters">Result Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../switch/switch.html">Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../load/load.html">Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sgen/sgen.html">Static Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ext_grid/ext_grid.html">External Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trafo/trafo.html">Transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trafo3w/trafo3w.html">Three Winding Transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gen/gen.html">Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shunt/shunt.html">Shunt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../impedance/impedance.html">Impedance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ward/ward.html">Ward</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xward/xward.html">Extended Ward</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../std_types.html">Standard Type Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../powerflow.html">Power Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topology.html">Topological Searches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networks.html">Generic Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plotting.html">Plotting Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../file_io.html">Save and Load Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolbox.html">Toolbox</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">pandapower</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../elements.html">Datastructure and Elements</a> &raquo;</li>
      
    <li>Line</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/elements/line/line.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="line">
<h1>Line<a class="headerlink" href="#line" title="Permalink to this headline">¶</a></h1>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../../about/units.html#conventions"><span class="std std-ref">Unit Systems and Conventions</span></a> <br>
<a class="reference internal" href="../../std_types.html#std-types"><span class="std std-ref">Standard Type Libraries</span></a></p>
</div>
<div class="section" id="create-function">
<h2>Create Function<a class="headerlink" href="#create-function" title="Permalink to this headline">¶</a></h2>
<p id="create-line">Lines can be either created from the standard type library (create_line) or with custom values (create_line_from_parameters).</p>
<dl class="function">
<dt id="pandapower.create_line">
<code class="descclassname">pandapower.</code><code class="descname">create_line</code><span class="sig-paren">(</span><em>net</em>, <em>from_bus</em>, <em>to_bus</em>, <em>length_km</em>, <em>std_type</em>, <em>name=None</em>, <em>index=None</em>, <em>geodata=None</em>, <em>df=1.0</em>, <em>parallel=1</em>, <em>in_service=True</em>, <em>max_loading_percent=nan</em><span class="sig-paren">)</span><a class="headerlink" href="#pandapower.create_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a line element in net[&#8220;line&#8221;]
The line parameters are defined through the standard type library.</p>
<dl class="docutils">
<dt>INPUT:</dt>
<dd><p class="first"><strong>net</strong> - The net within this line should be created</p>
<p><strong>from_bus</strong> (int) - ID of the bus on one side which the line will be connected with</p>
<p><strong>to_bus</strong> (int) - ID of the bus on the other side which the line will be connected with</p>
<p><strong>length_km</strong> (float) - The line length in km</p>
<p class="last"><strong>std_type</strong> (string) - The linetype of a standard line pre-defined in standard_linetypes.</p>
</dd>
</dl>
<p>OPTIONAL:</p>
<blockquote>
<div><p><strong>name</strong> (string) - A custom name for this line</p>
<p><strong>index</strong> (int) - Force a specified ID if it is available</p>
<p><strong>geodata</strong>
(np.array, default None, shape= (,2L)) -
The linegeodata of the line. The first row should be the coordinates
of bus a and the last should be the coordinates of bus b. The points
in the middle represent the bending points of the line</p>
<p><strong>in_service</strong> (boolean) - True for in_service or False for out of service</p>
<p><strong>df</strong> (float) - derating factor: maximal current of line  in relation to nominal current of line (from 0 to 1)</p>
<p><strong>parallel</strong> (integer) - number of parallel line systems</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><strong>line_id</strong> - The unique line_id of the created line</div></blockquote>
<p>EXAMPLE:</p>
<blockquote>
<div>create_line(net, &#8220;line1&#8221;, from_bus = 0, to_bus = 1, length_km=0.1,  std_type=&#8221;NAYY 4x50 SE&#8221;)</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pandapower.create_line_from_parameters">
<code class="descclassname">pandapower.</code><code class="descname">create_line_from_parameters</code><span class="sig-paren">(</span><em>net</em>, <em>from_bus</em>, <em>to_bus</em>, <em>length_km</em>, <em>r_ohm_per_km</em>, <em>x_ohm_per_km</em>, <em>c_nf_per_km</em>, <em>imax_ka</em>, <em>name=None</em>, <em>index=None</em>, <em>type=None</em>, <em>geodata=None</em>, <em>in_service=True</em>, <em>df=1.0</em>, <em>parallel=1</em>, <em>max_loading_percent=nan</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pandapower.create_line_from_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a line element in net[&#8220;line&#8221;] from line parameters.</p>
<dl class="docutils">
<dt>INPUT:</dt>
<dd><p class="first"><strong>net</strong> - The net within this line should be created</p>
<p><strong>from_bus</strong> (int) - ID of the bus on one side which the line will be connected with</p>
<p><strong>to_bus</strong> (int) - ID of the bus on the other side which the line will be connected with</p>
<p><strong>length_km</strong> (float) - The line length in km</p>
<p><strong>r_ohm_per_km</strong> (float) - line resistance in ohm per km</p>
<p><strong>x_ohm_per_km</strong> (float) - line reactance in ohm per km</p>
<p><strong>c_nf_per_km</strong> (float) - line capacitance in nF per km</p>
<p class="last"><strong>imax_ka</strong> (float) - maximum thermal current in kA</p>
</dd>
</dl>
<p>OPTIONAL:</p>
<blockquote>
<div><p><strong>name</strong> (string) - A custom name for this line</p>
<p><strong>index</strong> (int) - Force a specified ID if it is available</p>
<p><strong>in_service</strong> (boolean) - True for in_service or False for out of service</p>
<p><strong>type</strong> (str) - type of line (&#8220;oh&#8221; for overhead line or &#8220;cs&#8221; for cable system)</p>
<p><strong>df</strong> (float) - derating factor: maximal current of line  in relation to nominal current of line (from 0 to 1)</p>
<p><strong>parallel</strong> (integer) - number of parallel line systems</p>
<p><strong>geodata</strong>
(np.array, default None, shape= (,2L)) -
The linegeodata of the line. The first row should be the coordinates
of bus a and the last should be the coordinates of bus b. The points
in the middle represent the bending points of the line</p>
<p><strong>kwargs</strong> - nothing to see here, go along</p>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><strong>line_id</strong> - The unique line_id of the created line</div></blockquote>
<p>EXAMPLE:</p>
<blockquote>
<div>create_line_from_parameters(net, &#8220;line1&#8221;, from_bus = 0, to_bus = 1, lenght_km=0.1,
r_ohm_per_km = .01, x_ohm_per_km = 0.05, c_nf_per_km = 10,
imax_ka = 0.4)</div></blockquote>
</dd></dl>

</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p><em>net.line</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="11%" />
<col width="28%" />
<col width="44%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Parameter</strong></td>
<td><strong>Datatype</strong></td>
<td><strong>Value Range</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr class="row-even"><td>name</td>
<td>string</td>
<td>&nbsp;</td>
<td>name of the line</td>
</tr>
<tr class="row-odd"><td>std_type</td>
<td>string</td>
<td>&nbsp;</td>
<td>standard type which can be used to easily define line parameters with the pandapower standard type library</td>
</tr>
<tr class="row-even"><td>from_bus*</td>
<td>integer</td>
<td>&nbsp;</td>
<td>Index of bus where the line starts</td>
</tr>
<tr class="row-odd"><td>to_bus*</td>
<td>integer</td>
<td>&nbsp;</td>
<td>Index of bus where the line ends</td>
</tr>
<tr class="row-even"><td>length_km*</td>
<td>float</td>
<td><span class="math">\(&gt;\)</span> 0</td>
<td>length of the line [km]</td>
</tr>
<tr class="row-odd"><td>r_ohm_per_km*</td>
<td>float</td>
<td><span class="math">\(\geq\)</span> 0</td>
<td>resistance of the line [Ohm per km]</td>
</tr>
<tr class="row-even"><td>x_ohm_per_km*</td>
<td>float</td>
<td><span class="math">\(\geq\)</span> 0</td>
<td>inductance of the line [Ohm per km]</td>
</tr>
<tr class="row-odd"><td>c_nf_per_km*</td>
<td>float</td>
<td><span class="math">\(\geq\)</span> 0</td>
<td>capacitance of the line [nF per km]</td>
</tr>
<tr class="row-even"><td>imax_ka*</td>
<td>float</td>
<td><span class="math">\(&gt;\)</span> 0</td>
<td>maximal thermal current [kA]</td>
</tr>
<tr class="row-odd"><td>parallel*</td>
<td>integer</td>
<td><span class="math">\(\geq\)</span> 1</td>
<td>number of parallel line systems</td>
</tr>
<tr class="row-even"><td>df*</td>
<td>float</td>
<td>0...1</td>
<td>derating factor (scaling) for imax_ka</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>string</td>
<td><div class="first line-block">
<div class="line">Naming conventions:</div>
</div>
<div class="last line-block">
<div class="line"><em>&#8220;ol&#8221;</em> - overhead line </div>
<div class="line"><em>&#8220;cs&#8221;</em> - underground cable system</div>
</div>
</td>
<td>type of line</td>
</tr>
<tr class="row-even"><td>in_service*</td>
<td>boolean</td>
<td><div class="first last line-block">
<div class="line"><em>&#8220;True&#8221;</em> - in service</div>
<div class="line"><em>&#8220;False&#8221;</em> - out of service</div>
</div>
</td>
<td>specifies if the line is in service. Only in service elements are considered during loadflow calculation</td>
</tr>
</tbody>
</table>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>necessary for executing a loadflow calculation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Defining a line with length zero leads to a division by zero in the loadflow and is therefore not allowed. Lines with a very low impedance might lead to convergence problems in the loadflow
for the same reason. If you want to directly connect two buses, please use the switch element instead of a line with a small impedance!</p>
</div>
<p><em>net.line_geodata</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Parameter</strong></td>
<td><strong>Datatype</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr class="row-even"><td>coords</td>
<td>list</td>
<td>List of (x,y) tuples that mark the inflexion points of the line</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="loadflow-model">
<h2>Loadflow Model<a class="headerlink" href="#loadflow-model" title="Permalink to this headline">¶</a></h2>
<p>Lines are modelled with the <span class="math">\(\pi\)</span>-equivalent circuit:</p>
<a class="reference internal image-reference" href="../../_images/line.png"><img alt="alternate Text" class="align-center" src="../../_images/line.png" style="width: 25em;" /></a>
<p>The elements in the equivalent circuit are calculated from the parameters in the net.line dataframe as:</p>
<div class="math">
\begin{align*}
 \underline{Z} &amp;= (r\_ohm\_per\_km + j \cdot x\_ohm\_per\_km) \cdot \frac{length\_km}{parallel}  \\
 \underline{Y}&amp;= j \cdot 2 \pi f \cdot c\_nf\_per\_km \cdot 1 \cdot 10^9 \cdot length\_km \cdot parallel
\end{align*}</div><p>The power system frequency <span class="math">\(f\)</span> is defined when creating an empty network, the default value is <span class="math">\(f = 50 Hz\)</span>.</p>
<p>The parameters are then transformed in the per unit system:</p>
<div class="math">
\begin{align*}
 Z_{N} &amp;= \frac{V_{N}^2}{S_{N}} \\
 \underline{z} &amp;= \frac{\underline{Z}}{Z_{N}} \\
 \underline{y} &amp;= \underline{Y} \cdot Z_{N} \\
 \end{align*}</div><p>Where <span class="math">\(S_{N} = 1 \ MVA\)</span> (see <a class="reference internal" href="../../about/units.html#conventions"><span class="std std-ref">Unit Systems and Conventions</span></a>) and <span class="math">\(U_{N}\)</span> is the nominal voltage at the from bus.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">pandapower assumes that nominal voltage of from bus and to bus are equal, which means pandapower does not support lines that connect different voltage levels.
If you want to connect different voltage levels, either use a transformer or an impedance element.</p>
</div>
</div>
<div class="section" id="result-parameters">
<h2>Result Parameters<a class="headerlink" href="#result-parameters" title="Permalink to this headline">¶</a></h2>
<p><em>net.res_line</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="13%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Parameter</strong></td>
<td><strong>Datatype</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr class="row-even"><td>p_from_kw</td>
<td>float</td>
<td>active power flow into the line at &#8220;from&#8221; bus [kW]</td>
</tr>
<tr class="row-odd"><td>q_from_kvar</td>
<td>float</td>
<td>reactive power flow into the line at &#8220;from&#8221; bus [kVar]</td>
</tr>
<tr class="row-even"><td>p_to_kw</td>
<td>float</td>
<td>active power flow into the line at &#8220;to&#8221; bus [kW]</td>
</tr>
<tr class="row-odd"><td>q_to_kvar</td>
<td>float</td>
<td>reactive power flow into the line at &#8220;to&#8221; bus [kVar]</td>
</tr>
<tr class="row-even"><td>pl_kw</td>
<td>float</td>
<td>active power losses of the line [kW]</td>
</tr>
<tr class="row-odd"><td>ql_kvar</td>
<td>float</td>
<td>reactive power consumption of the line [kVar]</td>
</tr>
<tr class="row-even"><td>i_ka</td>
<td>float</td>
<td>Maximum current at &#8220;to&#8221; bus or &#8220;from&#8221; bus [kA]</td>
</tr>
<tr class="row-odd"><td>loading_percent</td>
<td>float</td>
<td>line loading of Imax_ka [%]</td>
</tr>
</tbody>
</table>
<p>The loadflow results in the net.res_line table are defined as:</p>
<div class="math">
\begin{align*}
 p\_from\_kw &amp;= Re(\underline{v}_{from} \cdot \underline{i}_{from}) \\
 q\_from\_kvar &amp;= Im(\underline{v}_{from} \cdot \underline{i}_{from}) \\
 p\_to\_kw &amp;= Re(\underline{v}_{to} \cdot \underline{i}_{to}) \\
 q\_to\_kvar &amp;= Im(\underline{v}_{to} \cdot \underline{i}_{to}) \\
     pl\_kw &amp;= p\_from\_kw + p\_to\_kw \\
     ql\_kvar &amp;= q\_from\_kvar + q\_to\_kvar \\
 i\_ka &amp;= max(i_{from}, i_{to}) \\
 loading\_percent &amp;= \frac{i\_ka}{imax\_ka \cdot df \cdot parallel} \cdot 100
 \end{align*}</div></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../switch/switch.html" class="btn btn-neutral float-right" title="Switch" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../bus/bus.html" class="btn btn-neutral" title="Bus" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 by Fraunhofer IWES and Kassel University.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>