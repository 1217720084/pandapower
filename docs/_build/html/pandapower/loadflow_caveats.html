<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Known Problems and Caveats &mdash; pandapower 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pandapower 0.1.0 documentation" href="../index.html" />
    <link rel="up" title="Powerflow" href="nc_loadflow.html" />
    <link rel="next" title="Diagnostic Function" href="loadflow_diagnostic.html" />
    <link rel="prev" title="Run a Powerflow" href="loadflow_run.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="loadflow_diagnostic.html" title="Diagnostic Function"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="loadflow_run.html" title="Run a Powerflow"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pandapower 0.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="nc.html" >pandapower Network Analysis</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="nc_loadflow.html" accesskey="U">Powerflow</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="known-problems-and-caveats">
<h1>Known Problems and Caveats<a class="headerlink" href="#known-problems-and-caveats" title="Permalink to this headline">¶</a></h1>
<div class="section" id="disconnected-buses">
<h2>Disconnected Buses<a class="headerlink" href="#disconnected-buses" title="Permalink to this headline">¶</a></h2>
<p>It is possible to have multiple galvanically seperated network in one pandapower network:</p>
<a class="reference internal image-reference" href="../_images/disconnected_yes.png"><img alt="alternate Text" class="align-center" src="../_images/disconnected_yes.png" style="width: 20em;" /></a>
<p>However, if there are in service buses that are not connected to any slack bus, the loadflow will not converge:</p>
<a class="reference internal image-reference" href="../_images/disconnected.png"><img alt="alternate Text" class="align-center" src="../_images/disconnected.png" style="width: 20em;" /></a>
<p>The only exception are buses which are not connected to any branch. These busses are ignored in the loadflow and therefore do not cause convergence problems:</p>
<a class="reference internal image-reference" href="../_images/disconnected_yes2.png"><img alt="alternate Text" class="align-center" src="../_images/disconnected_yes2.png" style="width: 20em;" /></a>
<p>The reason is that buses which are not connected to any branch can be easily identified, while buses which form an isolated group can only be found with a topology search.
The pandapower topology package includes a function to find disconnected busses. For the loadflow to converge, they have to be set out of service:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandapower.topology</span> <span class="k">as</span> <span class="nn">topology</span>
<span class="n">unsupplied_buses</span> <span class="o">=</span> <span class="n">top</span><span class="o">.</span><span class="n">unsupplied_busses</span><span class="p">(</span><span class="n">net</span><span class="p">)</span>
<span class="n">net</span><span class="o">.</span><span class="n">bus</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">unsupplied_buses</span><span class="p">,</span> <span class="s2">&quot;in_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">pp</span><span class="o">.</span><span class="n">runpp</span><span class="p">(</span><span class="n">net</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="voltage-controlling-elements">
<h2>Voltage Controlling Elements<a class="headerlink" href="#voltage-controlling-elements" title="Permalink to this headline">¶</a></h2>
<p>It is generally possible to have several generators and external grids in one network. Buses also might have several bus-elements (ext_grid, load, sgen etc.) connected to them:</p>
<a class="reference internal image-reference" href="../_images/voltage_yes2.png"><img alt="alternate Text" class="align-center" src="../_images/voltage_yes2.png" style="width: 42em;" /></a>
<p>It is however not possible to connect multiple voltage controllable element (ext_grid, gen) at one bus, since this would convergence problems in PYPOWER:</p>
<a class="reference internal image-reference" href="../_images/voltage_no.png"><img alt="alternate Text" class="align-center" src="../_images/voltage_no.png" style="width: 42em;" /></a>
<p>The pandapower API will prevent you from adding a second voltage controlling element to a bus, so you should not be able to build the networks pictured above through the pandapower API.</p>
<p>It is also not allowed to add two voltage controlled elements to busses which are connected through a closed bus-bus switch, since those busses are fused internally and therefore the same bus in PYPOWER (see <a class="reference internal" href="elements/switch/switch.html#switch-model"><span class="std std-ref">switch model</span></a>):</p>
<a class="reference internal image-reference" href="../_images/voltage_no2.png"><img alt="alternate Text" class="align-center" src="../_images/voltage_no2.png" style="width: 22em;" /></a>
</div>
<div class="section" id="zero-impedance-branches">
<h2>Zero Impedance Branches<a class="headerlink" href="#zero-impedance-branches" title="Permalink to this headline">¶</a></h2>
<p>Branches with zero impedance will lead to a non-converging loadflow:</p>
<a class="reference internal image-reference" href="../_images/zero_branch.png"><img alt="alternate Text" class="align-center" src="../_images/zero_branch.png" style="width: 20em;" /></a>
<p>This is due to the fact that the loadflow is based on admittances, which would be infinite for an impedance of zero. The same problem might occur with impedances very close to zero.</p>
<p>Zero impedance branches occur for:</p>
<blockquote>
<div><ul class="simple">
<li>lines with length_km = 0</li>
<li>lines with r_ohm_per_km = 0 and x_ohm_per_km = 0</li>
<li>transformers with vsc_percent=0</li>
</ul>
</div></blockquote>
<p>If you want to directly connect to busses without voltage drop, use a <a class="reference internal" href="elements/switch/switch.html#switch-model"><span class="std std-ref">bus-bus switch</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Known Problems and Caveats</a><ul>
<li><a class="reference internal" href="#disconnected-buses">Disconnected Buses</a></li>
<li><a class="reference internal" href="#voltage-controlling-elements">Voltage Controlling Elements</a></li>
<li><a class="reference internal" href="#zero-impedance-branches">Zero Impedance Branches</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="loadflow_run.html"
                        title="previous chapter">Run a Powerflow</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="loadflow_diagnostic.html"
                        title="next chapter">Diagnostic Function</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pandapower/loadflow_caveats.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="loadflow_diagnostic.html" title="Diagnostic Function"
             >next</a> |</li>
        <li class="right" >
          <a href="loadflow_run.html" title="Run a Powerflow"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pandapower 0.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="nc.html" >pandapower Network Analysis</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="nc_loadflow.html" >Powerflow</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Alexander Scheidler, Leon Thurner.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>